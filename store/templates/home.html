{% extends 'base.html' %}
{% load static %}

{% block content %}
<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>PathPal</title>

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="{% static 'assets/favicon.ico' %}?v=1">

    <!-- Bootstrap icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet" />

    <!-- Core theme CSS (includes Bootstrap) -->
    <link href="{% static 'css/styles.css' %}" rel="stylesheet" />

    <style>
        body {
            background-color: #1c1c1c;
        }

        .category-card {
            border-radius: 15px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .category-img,
        .product-image {
            height: 200px;
            object-fit: cover;
            border-top-left-radius: 15px;
            border-top-right-radius: 15px;
        }

        .product-image {
            width: 100%;
        }

        .card {
            background-color: #282828;
            color: #727272;
            transform: scale(1.05);
            animation: rotateCard 0.7s linear;
        }

        .card:hover {
            transform: scale(1.05) rotate(5deg);
            box-shadow: 0 4px 19px rgba(255, 240, 220, 0.5), 0 6px 20px rgba(255, 218, 185, 0.3);
        }

        .card:not(:hover) {
            transform: rotate(0deg);
        }

        .card-body {
            width: 100%;
            height: auto;
            background-color: #282828;
        }

        @keyframes rotateCard {
            from {
                transform: scale(0.9) rotate(1060deg);
            }
            to {
                transform: scale(0.09) rotate(360deg);
            }
        }

        @keyframes scaleIn {
            from { transform: scale(0.2); }
            to { transform: scale(1); }
        }

        .animated-scale-in {
            animation: scaleIn 0.5s ease-in-out forwards;
        }

        .section {
            margin-left: 0;
        }

        .search {
            margin-left: 20px;
            margin-top: 30px;
        }

        .strike-through-red {
            color: red;
            text-decoration: line-through;
        }

        .container-search {
            border: 1px solid #686868;
            padding: 10px;
            box-shadow: 0px 0px 100px rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            text-decoration: none;
        }

        .li-color {
            color: lightblue;
        }

        .recent {
            color: black;
        }

        @keyframes showLetter {
            0% { opacity: 0; }
            100% { opacity: 1; }
        }

        .animated-text span {
            opacity: 0;
            animation: showLetter 0.000001s forwards;
        }

        footer.publisher-footer {
            background-color: transparent;
            color: #fff; /* Ensure text is readable */
            text-align: center;
            padding: 2px 0;
            margin-top: auto;

        }

        .publisher-content {
            margin-top: auto;
        }
    </style>
</head>
<body class="d-flex flex-column min-vh-100">

    <div class="flex-grow-1">
        <header class="strip py-0">
            <div class="container px-4 px-lg-5 my-2">
                <div class="text-center text-white">
                    <h3 class="p-text display-7 fw-bolder animated-text" id="softwareStore" style="color: #C7C7B9;">
                         PathPal
                    </h3>
                    <h5 class="text-light" id="searchHeader"></h5>
                </div>
            </div>
        </header>

        <section class="search" style="height: 1cm; width: 6cm">
            <form id="searchForm" action="{% url 'search' %}" method="GET">
                <div class="input-group mb-6" style="position: relative">
                    <input
                        type="text"
                        class="form-control"
                        placeholder="Product..."
                        name="q"
                        style="opacity: 0.5; height: 0.9cm; padding-left: 2.5cm; border-radius: 12px;"
                    />
                    <img
                        src="{% static 'images/search.jpg' %}"
                        alt="Search"
                        style="position: absolute; left: 0.1cm; top: 50%; transform: translateY(-50%); height: 1cm;"
                    />
                </div>
            </form>
        </section>

        <section class="py-5">
            <div class="container">
                <h2 class="text-center mb-5" style="color: #C7C7B9;"></h2>  <!-- Pick a Service -->

                <div class="row justify-content-center g-4">
                    <!-- Rent a Car -->
                    <div class="col-md-3">
                        <a href="{% url 'category' 'Car' %}" class="text-decoration-none text-white">
                            <div class="card category-card bg-dark text-white">
                                <img src="{% static 'images/car.png' %}" class="card-img-top category-img" alt="Rent a Car">
                                <div class="card-body p-2">
                                    <div class="text-center mb-2">
                                        <h5 class="fw-bolder">Rent a Car</h5>
                                    </div>
                                    <div class="d-flex justify-content-between mb-1 px-2">
                                        <span><strong>Category:</strong></span>
                                        <span>Car</span>
                                    </div>
                                    <div class="d-flex justify-content-between mb-1 px-2">
                                        <span><strong>Description:</strong></span>
                                        <span>Reliable rentals</span>
                                    </div>
                                </div>
                            </div>
                        </a>
                    </div>

                    <!-- Hotels -->
                    <div class="col-md-3">
                        <a href="{% url 'category' 'Hotels' %}" class="text-decoration-none text-white">
                            <div class="card category-card bg-dark text-white">
                                <img src="{% static 'images/hotel.jpg' %}" class="card-img-top category-img" alt="Hotels">
                                <div class="card-body p-2">
                                    <div class="text-center mb-2">
                                        <h5 class="fw-bolder">Hotels</h5>
                                    </div>
                                    <div class="d-flex justify-content-between mb-1 px-2">
                                        <span><strong>Category:</strong></span>
                                        <span>Hotels</span>
                                    </div>
                                    <div class="d-flex justify-content-between mb-1 px-2">
                                        <span><strong>Description:</strong></span>
                                        <span>Book top stays</span>
                                    </div>
                                </div>
                            </div>
                        </a>
                    </div>

                    <!-- PathPal -->
                    <div class="col-md-3">
                        <a href="{% url 'category' 'PathPal' %}" class="text-decoration-none text-white">
                            <div class="card category-card bg-dark text-white">
                                <img src="{% static 'images/PathPal.png' %}" class="card-img-top category-img" alt="PathPal">
                                <div class="card-body p-2">
                                    <div class="text-center mb-2">
                                        <h5 class="fw-bolder">PathPal</h5>
                                    </div>
                                    <div class="d-flex justify-content-between mb-1 px-2">
                                        <span><strong>Category:</strong></span>
                                        <span>PathPal</span>
                                    </div>
                                    <div class="d-flex justify-content-between mb-1 px-2">
                                        <span><strong>Description:</strong></span>
                                        <span>Travel guide</span>
                                    </div>
                                </div>
                            </div>
                        </a>
                    </div>

                    <!-- Tickets -->
                    <div class="col-md-3">
                        <a href="{% url 'category' 'Ticket Reservations' %}" class="text-decoration-none text-white">
                            <div class="card category-card bg-dark text-white">
                                <img src="{% static 'images/tickets.png' %}" class="card-img-top category-img" alt="Tickets">
                                <div class="card-body p-2">
                                    <div class="text-center mb-2">
                                        <h5 class="fw-bolder">Ticket Reservations</h5>
                                    </div>
                                    <div class="d-flex justify-content-between mb-1 px-2">
                                        <span><strong>Category:</strong></span>
                                        <span>Tickets</span>
                                    </div>
                                    <div class="d-flex justify-content-between mb-1 px-2">
                                        <span><strong>Description:</strong></span>
                                        <span>Flights, buses, etc.</span>
                                    </div>
                                </div>
                            </div>
                        </a>
                    </div>

                </div>
            </div>
        </section>
    </div>

    <footer class="publisher-footer">
        {% block footer %}
        <div class="publisher-content">
            <p>Published by SE. AJAFF All rights reserved. &copy; <span id="currentYear"></span></p>
        </div>
        {% endblock %}
    </footer>

    <script>
        document.getElementById("currentYear").textContent = new Date().getFullYear();

        function addAnimationDelay() {
            var animatedText = document.getElementById("softwareStore");
            var letters = animatedText.textContent.trim().split("");
            var html = "";
            letters.forEach(function (letter, index) {
                html += '<span style="animation-delay: ' + index * 0.1 + 's;">' + letter + "</span>";
            });
            animatedText.innerHTML = html;
        }

        function updateSearchHeader() {
            var urlParams = new URLSearchParams(window.location.search);
            var searchTerm = urlParams.get("q");
            if (searchTerm) {
                var searchHeader = document.getElementById("searchHeader");
                searchHeader.textContent = "Search Results for: " + searchTerm;
            }
        }

        window.addEventListener("load", function () {
            addAnimationDelay();
            updateSearchHeader();
        });
    </script>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{% static 'js/scripts.js' %}"></script>
</body>
</html>
{% endblock %}

